tests_alpha/test_contract.py::TestTypecheck::test_typecheck[attic/reservoir.tz]

Well typed
Gas remaining: 1039963.237 units remaining
{ parameter unit ;
  storage (pair (pair (timestamp %T) (mutez %N)) (pair (address %A) (address %B))) ;
  code { CDR
         /* [ pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
         DUP
         /* [ pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B)
            : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
         CAAR %T ;
         NOW
         /* [ timestamp : timestamp
            : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
         COMPARE
         /* [ int : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
         LE
         /* [ bool : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
         IF { DUP
              /* [ pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B)
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              CADR %N ;
              BALANCE
              /* [ mutez : mutez
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              COMPARE
              /* [ int : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              LE
              /* [ bool : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              IF { NIL operation
                   /* [ list operation
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   PAIR
                   /* [ pair (list operation) (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ }
                 { DUP
                   /* [ pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B)
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   CDDR %B ;
                   CONTRACT
                     unit
                   /* [ option (contract unit)
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   ASSERT_SOME ;
                   BALANCE
                   /* [ mutez : contract unit
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   UNIT
                   /* [ unit : mutez : contract unit
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   TRANSFER_TOKENS
                   /* [ operation
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   NIL operation
                   /* [ list operation : operation
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   SWAP
                   /* [ operation : list operation
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   CONS
                   /* [ list operation
                      : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
                   PAIR
                   /* [ pair (list operation) (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ } }
            { DUP
              /* [ pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B)
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              CDAR %A ;
              CONTRACT
                unit
              /* [ option (contract unit)
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              ASSERT_SOME ;
              BALANCE
              /* [ mutez : contract unit
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              UNIT
              /* [ unit : mutez : contract unit
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              TRANSFER_TOKENS
              /* [ operation
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              NIL operation
              /* [ list operation : operation
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              SWAP
              /* [ operation : list operation
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              CONS
              /* [ list operation
                 : pair (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ ;
              PAIR
              /* [ pair (list operation) (pair (timestamp %T) (mutez %N)) (address %A) (address %B) ] */ } } }
